<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Battleship</title>
  <link rel="stylesheet" href="../style.css">
  <style>
    #board {
      display: grid;
      grid-template-columns: repeat(5, 60px);
      grid-gap: 5px;
      margin: 20px auto;
      width: max-content;
    }
    .cell {
      width: 60px;
      height: 60px;
      background: blue;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      color: white;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <nav>
    <a href="../index.html">Home</a>
    <a href="../contact.html">Contact</a>
    <a href="../games.html">Games</a>
  </nav>

  <div class="container">
    <h1>Battleship</h1>
    <div id="board"></div>
    <p id="status">Find the hidden ships!</p>
    <button onclick="resetGame()">Restart</button>
  </div>

  <script>
    const size = 5;
    let ships;
    const boardDiv = document.getElementById("board");
    const statusText = document.getElementById("status");

    function renderBoard() {
      boardDiv.innerHTML = "";
      for (let r = 0; r < size; r++) {
        for (let c = 0; c < size; c++) {
          const div = document.createElement("div");
          div.className = "cell";
          div.onclick = () => guess(r,c,div);
          boardDiv.appendChild(div);
        }
      }
    }

    function guess(r,c,div) {
      if (ships.some(([sr,sc]) => sr===r && sc===c)) {
        div.style.background = "red";
        div.textContent = "X";
        ships = ships.filter(([sr,sc]) => !(sr===r && sc===c));
        if (ships.length === 0) statusText.textContent = "You sank all ships!";
      } else {
        div.style.background = "gray";
      }
    }

    function resetGame() {
      ships = [];
      while (ships.length < 3) {
        let r = Math.floor(Math.random()*size);
        let c = Math.floor(Math.random()*size);
        if (!ships.some(([sr,sc]) => sr===r && sc===c)) ships.push([r,c]);
      }
      renderBoard();
      statusText.textContent = "Find the hidden ships!";
    }

    resetGame();
  </script>
</body>
</html>
